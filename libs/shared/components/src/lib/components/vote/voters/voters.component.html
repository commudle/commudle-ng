<div class="voters-list-container">
  <commudle-loading-spinner *ngIf="isLoading"></commudle-loading-spinner>
  <ul>
    <li *ngFor="let voter of voters">
      <commudle-user-profile-mini-card
        [size]="'small'"
        [user]="voter"
        [designation]="true"
      ></commudle-user-profile-mini-card>
    </li>
  </ul>

  <div class="load-more-button" *ngIf="total && voters.length < total">
    <button nbButton size="tiny" status="primary" outline (click)="openWindow()">View all</button>
  </div>
</div>

<ng-template #votersList let-data let-ref="dialogRef">
  <nb-card class="users-list">
    <nb-card-header>
      <div>Voters List</div>
      <button ghost nbButton size="small" (click)="ref.close()">
        <nb-icon icon="close"></nb-icon></button
    ></nb-card-header>
    <nb-card-body>
      <div *ngFor="let voter of voters" class="users">
        <commudle-user-profile-mini-card [user]="voter"></commudle-user-profile-mini-card>
      </div>

      <div class="load-more-button" *ngIf="total && voters.length < total">
        <button nbButton size="tiny" status="primary" outline (click)="getVoters()">Load More</button>
      </div>
    </nb-card-body>
  </nb-card>
</ng-template>
