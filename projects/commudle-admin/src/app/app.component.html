<nb-layout>

  <nb-layout-header fixed>
    <div class="container">
      <div class="menu-left-container">
        <div class="sidebar-toggle" (click)="toggleSidebar()">
          <fa-icon [icon]="faBars" size="1x"></fa-icon>
        </div>
        <div class="main-logo clickable" (click)="redirectToHome()">
          <img src="/assets/images/commudle-logo72.png">
          <p>
            Commudle
          </p>
        </div>
      </div>
      <div>
        <nb-user
          *ngIf="currentUser"
          size="medium"
          name="{{ currentUser.name.split(' ')[0] | slice:0:8 }}"
          picture="{{ currentUser.avatar }}"
          [nbContextMenu]="userContextMenu"
        >
        </nb-user>
        <button *ngIf="!currentUser"
          (click)="login()" nbButton status="primary">
          <nb-icon icon="log-in-outline"></nb-icon>
          Log in / Sign Up
        </button>

      </div>
    </div>

  </nb-layout-header>

  <nb-sidebar responsive="true" id="commudleSidebar">
    <app-sidebar-menu></app-sidebar-menu>
  </nb-sidebar>

  <nb-layout-column (click)="closeSidebarMobile()">
    <router-outlet></router-outlet>
  </nb-layout-column>

  <nb-layout-footer fixed>
    <div class="main-logo clickable" (click)="redirectToHome()">
      <img src="/assets/images/commudle-logo72.png">
      <p>
        more@commudle.com
      </p>
    </div>
  </nb-layout-footer>

</nb-layout>


<app-user-visit-tracker></app-user-visit-tracker>
