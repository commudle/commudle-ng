<div class="clickable votes size-{{ size }}">
  <div [ngSwitch]="icon" [ngClass]="{ 'votes-direction-vertical': votesDirectionVertical }">
    <p
      *ngIf="totalVotes > 0 && textAlignment === 'before'"
      [nbPopoverContext]="{ votableId: votableId, votableType: votableType }"
      [nbPopover]="VotersComponent"
      class="count com-mr-2px"
      nbPopoverTrigger="hover"
    >
      {{ totalVotes }}
    </p>
    <span (click)="toggleVote()">
      <nb-icon
        *ngSwitchCase="'heart'"
        [ngClass]="{ 'voted-heart': myVote, unvoted: !myVote, 'has-votes': totalVotes > 0 }"
        class="hear"
        icon="heart"
      >
      </nb-icon>
      <nb-icon
        *ngSwitchCase="'heart-outline'"
        [icon]="myVote ? 'heart' : 'heart-outline'"
        [ngClass]="{ 'voted-heart': myVote, unvoted: !myVote, 'has-votes': totalVotes > 0 }"
        class="hear"
      >
      </nb-icon>
      <nb-icon
        *ngSwitchCase="'star'"
        [ngClass]="{ 'voted-star': myVote, unvoted: !myVote, 'has-votes': totalVotes > 0 }"
        class="star"
        icon="star"
      >
      </nb-icon>
    </span>
    <p
      *ngIf="totalVotes > 0 && textAlignment === 'after'"
      [nbPopoverContext]="{ votableId: votableId, votableType: votableType }"
      [nbPopover]="VotersComponent"
      class="count com-ml-6px"
      nbPopoverTrigger="hover"
    >
      {{ totalVotes }}
    </p>
  </div>
</div>
